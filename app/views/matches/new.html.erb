<div class="match-new">
  <div class="match-new-container container mt-1">
    <h1>Iniciar Partida</h1>

    <% unless @team.can_play_match? %>
      <div data-controller="insufficient-players"
           data-insufficient-players-team-players-path-value="<%= team_players_path(@team) %>"
           data-insufficient-players-team-market-path-value="<%= team_market_path(@team) %>"
           data-insufficient-players-total-players-value="<%= @team.total_players %>">
      </div>
    <% else %>
      <%= simple_form_for [@team, @match] do |f| %>
        <div class="card">
          <div class="match-new-card-body card-body">
            <%= f.input :away_team_id, label: "Time Adversário", 
                        collection: @rival_teams.map { |team| [team.name, team.id] },
                        prompt: "Selecione o time adversário",
                        required: true %>
            
            <div data-controller="simulation-info"></div>

            <div class="d-flex justify-content-between">
              <%= link_to "Cancelar", team_matches_path(@team), class: "btn btn-secondary" %>
              <%= f.submit "Jogar Partida", class: "btn btn-success" %>
            </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>